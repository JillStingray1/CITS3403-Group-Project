<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Main Menu</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='stylesheet/common.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='stylesheet/mainmenu.css') }}">
  <script src="{{ url_for('static', filename='javascript/meeting-popup.js') }}"></script>
</head>
<body class="main-background">


  <nav class="navbar">
    <div class="navbar-left">
      <a href="/" class="logo-link">
        <img src="{{ url_for('static', filename='media/app-logo.png') }}" alt="Logo" class="logo-nav">
      </a>
    </div>
    <div class="navbar-right">
      <div class="share-dropdown">
        <button class="btn btn-primary dropdown-trigger">Use Share Code</button>
      
        <div class="share-menu">
          <div class="share-menu-header">
            <span>Have a code?</span>
            <button class="share-close" aria-label="Close">Ã—</button>
          </div>
          <p>Enter the share code to import a shared activity:</p>
          <form method="POST" class="share-form">
            {{ form.hidden_tag() }}
            {{ form.code(class= "share-code-input", placeholder = "ABC123", id = "code") }}
            <button id="show-details" class="btn btn-primary">Show Details</button>
            <div id="popup" class="popup">
              <div class="popup-content">
                {# TODO: Actually add tags to fill in the content #}
                <h2>Hello!</h2>
                <p>This is a simple pop-up using HTML and CSS.</p>
                {{ form.submit(class= "btn btn-primary import-btn") }}
              </div>
            </div>
          </form>
        </div>
      </div>
      <a href="{{ url_for('create_meeting') }}" class="button button-orange">+ New Activity</a>
    </div>
  </nav>
  


  <main class="main-content">
    <h1>Main Menu</h1>


    <section class="card-section">
      <h2>Current Activities</h2>
      <div class="card">
        <table>
          <thead>
            <tr>
              <th>Activity</th>
              <th>When</th>
              <th>Time</th>
              <th>Share Code</th>
            </tr>
          </thead>
          <tbody>
            {% for activity in created_activities %}
              <tr>
                <td>{{ activity.meeting_name }}</td>
                <td>{{ activity.start_date.strftime('%d %B %Y') }}</td>
                <td>10:00 AM</td>  {# Optional: replace with activity.time if available #}
                <td>{{ activity.share_code }}</td>
              </tr>
            {% else %}
              <tr>
                <td colspan="3">No current activities.</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </section>


    <section class="card-section">
      <h2>Past Activities</h2>
      <div class="card">
        <table>
          <thead>
            <tr>
              <th>Activity</th>
              <th>When</th>
              <th>Time</th>
            </tr>
          </thead>
          <tbody>

            {% if past_activities %}
              {% for activity in past_activities %}
                <tr>
                  <td>{{ activity.meeting_name }}</td>
                  <td>{{ activity.start_date.strftime('%d %B %Y') }}</td>
                  <td>10:00 AM</td>
                </tr>
              {% endfor %}
            {% else %}
              <tr>
                <td colspan="3">No past activities.</td>
              </tr>
            {% endif %}
          </tbody>
        </table>
      </div>
    </section>

    <section class="calendar-section">
      <div class="calendar-placeholder">
        <p>Calendar Placeholder</p>
      </div>
    </section>
  </main>

</body>
</html>
